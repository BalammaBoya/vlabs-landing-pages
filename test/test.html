<html>
  <head>
    <link rel="stylesheet"
          href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.0/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    </style>
  </head>
  
<body>
    
  <nav class="navbar navbar-inverse">
    <div class="container-fluid">
      <div class="navbar-header">
        <a class="navbar-brand" href="#">vlabs-logo</a>
      </div>
      <ul class="nav navbar-nav">
        <li class="active"><a href="#">Home</a></li>
        <li class="dropdown" ><a class="dropdown-toggle" data-toggle="dropdown" href="#">Institutes <span class="caret"></span></a>
          <ul class="dropdown-menu" id="filterInstComboBox">
          </ul>
        </li>
        <li class="dropdown" ><a class="dropdown-toggle" data-toggle="dropdown" href="#">Disciplines <span class="caret"></span></a>
          <ul class="dropdown-menu" id="filterDisComboBox">
          </ul>
        </li>
        <li><a href="javascript:getAllLabs()">All Labs</a></li>
      </ul>
    </div>
  </nav>
  
  <div class="container">
    <span id="allLabs"></span>
  </div>
  <script>
    $.getJSON( "http://localhost:5000/institutes", function(data) {
    var items = '';
    $.each(data, function(key, value){
    inst_name = value['institute_name']
    items += '<li id="' + inst_name + '"><a href="#">' + inst_name + '</a></li>';
    });
    $('#filterInstComboBox').append(items);
    })
    .done(function() {
    console.log( "second success" );
    })
      .fail(function() {
    console.log( "error" );
    })
    .always(function() {
    console.log( "complete" );
    }); 

    $.getJSON( "http://localhost:5000/disciplines", function(data) {
    var items = '';
    $.each(data, function(key, value){
    dis_name = value['discipline_name']
    items += '<li id="' + dis_name + '"><a href="#">' + dis_name + '</a></li>';
    });
    $('#filterDisComboBox').append(items);
    })
    .done(function() {
    console.log( "second success" );
    })
    .fail(function() {
    console.log( "error" );
    })
    .always(function() {
    console.log( "complete" );
    });
    function getAllLabs() {
    $.getJSON( "http://localhost:5000/labs", function(data) {
    var items = '';
    $.each(data, function(key, value){
    lab_name = value['lab_name']
    hosted_url = value['hosting_info'][0]['hosted_url']
    items += '<li id="' + lab_name + '"><a href='+ hosted_url+'>' + lab_name + '</a></li>';
    });
    console.log( hosted_url );
    $('#allLabs').append(items);
    })
    .done(function() {
    console.log( "second success" );
    })
    .fail(function() {
    console.log( "error" );
    })
    .always(function() {
    console.log( "complete" );
    });
    }
  </script>


  
</body></html>
